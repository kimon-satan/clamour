<!doctype html>
<html>
  <head>
    <title>Socket.IO - player</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="style/myStyle.css">
  </head>
  <body>

    <!-- Setup a socket -->

    <script src="/socket.io/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script src="libs/three.min.js"></script>

    <div id="container"></div>

    <script>

      var scene = new THREE.Scene();
      var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

      var renderer = new THREE.WebGLRenderer();
      renderer.setSize( window.innerWidth, window.innerHeight );


      var geometry = new THREE.BoxGeometry( 1, 1, 1 );
      var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
      var cube = new THREE.Mesh( geometry, material );
      scene.add( cube );

      camera.position.z = 5;

      function render() {
      	requestAnimationFrame( render );
      	renderer.render( scene, camera );
        cube.rotation.x += 0.1;
        cube.rotation.y += 0.1;
      }
      render();

      var socket = io();

      socket.on('modechange', function(msg)
      {
          console.log(msg);
          if(msg == 0)
          {
            $(renderer.domElement).remove()
          }
          else
          {
            $('#container').append( renderer.domElement );
          }

      });

    </script>

  </body>
</html>
